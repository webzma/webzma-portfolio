# Internacionalización (i18n) - Documentación

Este proyecto ahora soporta múltiples idiomas (español e inglés) usando el sistema de routing i18n integrado de Astro.

## Estructura del Sistema

### Configuración

El sistema de i18n está configurado en `astro.config.mjs`:

```javascript
i18n: {
  defaultLocale: 'es',
  locales: ['es', 'en'],
  routing: {
    prefixDefaultLocale: false
  }
}
```

- **defaultLocale**: Español (`es`) es el idioma por defecto
- **locales**: Idiomas disponibles: español (`es`) e inglés (`en`)
- **prefixDefaultLocale**: `false` significa que el español no necesita prefijo en la URL

### Rutas

- Español (idioma por defecto): `https://tudominio.com/`
- Inglés: `https://tudominio.com/en/`

### Archivos de Traducción

Las traducciones están en `src/i18n/ui.ts`:

```typescript
export const ui = {
	es: {
		'hero.title': 'Full Stack Developer',
		'about.title': 'Acerca'
		// ... más traducciones
	},
	en: {
		'hero.title': 'Full Stack Developer',
		'about.title': 'About'
		// ... más traducciones
	}
}
```

### Utilidades

El archivo `src/i18n/utils.ts` proporciona funciones auxiliares:

- **getLangFromUrl(url)**: Obtiene el idioma actual desde la URL
- **useTranslations(lang)**: Retorna una función `t()` para obtener traducciones
- **useTranslatedPath(lang)**: Genera rutas traducidas

## Cómo Usar

### En Componentes Astro

```astro
---
import { getLangFromUrl, useTranslations } from '@/i18n/utils'

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
---

<h1>{t('hero.title')}</h1>
<p>{t('about.paragraph1')}</p>
```

### Selector de Idioma

El componente `LanguagePicker.astro` está disponible en el header y permite cambiar entre idiomas.

## Agregar Nuevas Traducciones

1. Abre `src/i18n/ui.ts`
2. Agrega nuevas claves en ambos idiomas:

```typescript
export const ui = {
	es: {
		// ... traducciones existentes
		'new.key': 'Nuevo texto en español'
	},
	en: {
		// ... traducciones existentes
		'new.key': 'New text in English'
	}
}
```

3. Usa la clave en tu componente:

```astro
<p>{t('new.key')}</p>
```

## Agregar Nuevas Páginas

Para agregar una nueva página con soporte multiidioma:

1. Crea la página en español en `src/pages/`
2. Crea la versión en inglés en `src/pages/en/`
3. Asegúrate de usar los imports con path aliases (`@/`) en lugar de rutas relativas

Ejemplo:

```
src/pages/about.astro        # Versión en español
src/pages/en/about.astro     # Versión en inglés
```

## Agregar Más Idiomas

Para agregar un nuevo idioma (por ejemplo, francés):

1. Actualiza `astro.config.mjs`:

```javascript
i18n: {
  defaultLocale: 'es',
  locales: ['es', 'en', 'fr'],
  // ...
}
```

2. Agrega las traducciones en `src/i18n/ui.ts`:

```typescript
export const languages = {
	es: 'Español',
	en: 'English',
	fr: 'Français'
}

export const ui = {
	es: {
		/* ... */
	},
	en: {
		/* ... */
	},
	fr: {
		/* traducciones en francés */
	}
}
```

3. Crea una carpeta `src/pages/fr/` con las páginas traducidas

## Notas Importantes

- El idioma por defecto (español) no requiere prefijo en la URL
- Los otros idiomas requieren el prefijo (ej: `/en/`)
- Todas las páginas deben existir en ambos idiomas para evitar errores 404
- El atributo `lang` del HTML se actualiza automáticamente según el idioma actual
